<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Form - Filmes</title>
<script src="js/jquery-3.2.1.min.js"></script>
<link rel="stylesheet" href="css/bootstrap.min.css"/>
<script src="js/bootstrap.min.js"></script>
</h:head>
<h:body>
	<h:form enctype="multipart/form-data">
		<p:fieldset>
			<p:panelGrid>
				<p:outputLabel class="label" value="Titulo do filme *"/><br/>
					<p:inputText class="form-control" value="#{textosBean.texto.titulo}"/><br/>	
					<p:outputLabel class="label" value="Descrição *"/><br/>
					<p:inputTextarea class="form-control" value="#{textosBean.texto.descricao}"/><br/>
					<p:outputLabel class="label" value="Gênero *"/><br/>
					  <h:selectOneMenu class="custom-select" value="#{textosBean.texto.genero}">
			            <f:selectItem itemLabel="Select One" itemValue="" />
			            <f:selectItem itemLabel="Cómedia" itemValue="Cómedia" />
			            <f:selectItem itemLabel="Terror" itemValue="Terror" />
			            <f:selectItem itemLabel="Ficção C." itemValue="Ficção C." />
			            <f:selectItem itemLabel="Romance" itemValue="Romance" />
			            <f:selectItem itemLabel="Ação" itemValue="Ação" />
			            <f:selectItem itemLabel="Drama" itemValue="Drama" />
			            <f:selectItem itemLabel="Documentário" itemValue="Documentário" />
			        </h:selectOneMenu><br/><br/>
			        <div class="custom-file">
    						<h:inputFile class="custom-file-input" value="#{textosBean.foto}" id="validatedCustomFile" accept="image/*"/>
    						<label class="custom-file-label" for="validatedCustomFile">Foto do filme *</label>
  					</div><br/><br/>
			         <div class="custom-file">
    						<h:inputFile class="custom-file-input" value="#{textosBean.video}" id="validatedCustomFileVideo" />
    						<label class="custom-file-label" for="validatedCustomFileVideo">Video do filme *</label>
  					</div><br/><br/>
			</p:panelGrid>
			<p:toolbar>
				<p:toolbarGroup>
					<h:commandButton value="Inserir" action="#{textosBean.adicionar()}" update="@form" icon="pi pi-check"/>
					<h:commandButton value="Listar" action="#{textosBean.listarT()}" update="@form"/>
				</p:toolbarGroup>
			</p:toolbar><br/><br/>
		<p:messages autoUpdate="true" showDetail="true"/>
			<p:dataTable value="#{textosBean.textos}" var="tex" class="table table-hover table-dark" reflow="true" rows="5" paginator="true">
				<p:column>
					<h:commandButton class="btn btn-success" value="Editar" action="#{textosBean.editarT(tex)}" update="@form"></h:commandButton>
					<h:commandButton class="btn btn-danger" value="Deletar" action="#{textosBean.deletarT(tex)}" update="@form"></h:commandButton>
				</p:column>	
				<p:column value="Id" headerText="Id" sortBy="#{tex.id}">
					<h:outputText value="#{tex.id}"/>
				</p:column>
				<p:column value="Titulo" headerText="Titulo" sortBy="#{tex.titulo}">
					<h:outputText value="#{tex.titulo}"/>
				</p:column>
				<p:column value="Descrição" headerText="Descrição" sortBy="#{tex.descricao}">
					<h:outputText value="#{tex.descricao}"/>
				</p:column>
				<p:column value="Gênero" headerText="Gênero" sortBy="#{tex.genero}">
					<h:outputText value="#{tex.genero}"/>
				</p:column>
				<p:column value="Foto" headerText="Foto" sortBy="#{tex.fotoS}">
					<img src="#{tex.fotoS}" style="width: 80px; height: 80px;"/>
				</p:column>
				<p:column value="Video" headerText="Video" sortBy="#{tex.videoS}">
					<h:outputText value="#{tex.videoS}"/>
				</p:column>
			</p:dataTable>
		</p:fieldset>
	</h:form>
</h:body>
</html>
